!function(e){var t={};function l(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},l.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";function r(e){let t,l,r=e.length;for(;0!==r;)l=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[l],e[l]=t;return e}l.r(t);class s{constructor(e,t){this.elem=document.createElement("div"),this.elem.classList.add("card"),this.country=e,this.elem.classList.add("closed"),this.elem.currentCover="default",this.gameField=t,this.elem.addEventListener("click",()=>{this.elem.classList.contains("closed")&&!this.elem.classList.contains("delete")?this.activate():this.elem.classList.contains("active")&&!this.elem.classList.contains("delete")&&(this.deactivate(),this==this.gameField.activeCards[0]&&this.gameField.activeCards.shift())})}activate(){console.log(`#card ${this.country} is active now!`),this.elem.classList.add("active"),this.elem.classList.remove(this.elem.currentCover),this.elem.classList.add(this.country),this.elem.classList.remove("closed"),setTimeout(()=>{this.gameField.activeCards.push(this),2==this.gameField.activeCards.length&&this.gameField.activeCards[0]!=this.gameField.activeCards[1]&&(this.gameField.activeCards[0].country==this.gameField.activeCards[1].country?(this.gameField.activeCards.forEach(e=>e.elem.classList.add("delete")),this.gameField.numberOfCards-=2,this.gameField.activeCards=[],document.querySelector(".score-counter").textContent++,console.log("#match!")):(this.gameField.activeCards.forEach(e=>e.deactivate()),this.gameField.activeCards=[],console.log("#mismatch!")))},1e3)}deactivate(){this.elem.classList.add("deactivating"),this.elem.classList.remove("active"),this.elem.classList.remove(this.country),this.elem.classList.add(this.elem.currentCover),this.elem.classList.add("closed"),this.elem.classList.remove("deactivating"),console.log(`#card ${this.elem.classList[0]} deactivated!`)}}let a=document.querySelector(".game-field-section");function c(e,t){for(let l=0;l<a.children.length;l++)a.children[l].classList.remove(t),a.children[l].currentCover=e,a.children[l].classList.add(e);return e}let o="default-cover",i=document.querySelector(".start-the-game-button"),n=0,d=document.querySelector(".wrapper");i.addEventListener("click",()=>{d.removeChild(document.querySelector(".game-rules-wrapper"));let e=setInterval(()=>{n++,document.querySelector(".time-keeper").textContent++,0==m.numberOfCards&&(!function(e){let t=window.localStorage.getItem("results");t||(t=" ");let l=document.querySelector(".score-counter").textContent,r=window.localStorage.getItem("userName");window.localStorage.setItem("results",t+`${r}:${l};`),confirm(`CONGRATULATIONS, ${r}! Your score is ${l} in ${e}s!`)&&location.reload()}(n),clearInterval(e))},1e3)}),window.onload=function(){let e=document.querySelector("div.wrapper"),t=document.querySelector("form"),l=window.localStorage.getItem("results"),r=document.querySelector(".top-table"),s=document.querySelector(".welcome-message-wrapper"),a=document.querySelector(".welcome-message-div");var c,o;if(s.appendChild(a),e.appendChild(s),t.onsubmit=(()=>{let l=t.elements.name.value,r=t.elements.email.value;l=l,r=r,e.removeChild(s),window.localStorage.setItem("userName",l),window.localStorage.setItem("userEmail",r)}),l){let e=l.match(/\d+/gi),t=l.match(/[a-zа-я]+/gi),s=new Map;for(let l=0;t.length,l<e.length;l++)s.set(e[l],t[l]);e.sort((e,t)=>e-t);for(let t=0;t<10&&t<e.length;t++){let l=document.createElement("div");l.classList.add("player-intop-div"),l.score=e[t],l.name=s.get(e[t]);let a=document.createElement("label");a.classList.add("player-intop-name"),a.textContent=l.name,l.appendChild(a);let c=document.createElement("label");c.classList.add("player-intop-score"),c.textContent=l.score,l.appendChild(c),r.appendChild(l)}}else l=" ",window.localStorage.setItem("results",l)}();let m={};m.elem=document.querySelector(".game-field-section"),m.activeCards=[];let u=document.querySelector(".number-of-cards-section input");m.numberOfCards=u.value;let h=document.querySelector(".number-of-cards-section label");u.addEventListener("change",()=>{m.numberOfCards=u.value,h.textContent=`${m.numberOfCards}`,console.log("#numberOfCards",m.numberOfCards)}),document.querySelector(".number-of-cards-apply-button").addEventListener("click",()=>{console.log(`#set ${m.numberOfCards} cards`),function(e){let t=e.numberOfCards,l=[];for(;e.elem.lastChild;)e.elem.removeChild(e.elem.lastChild);let a=r(["ar","us","ua","tr","ru","pt","nl","kp","jp","ge","gb","es","fr","dk","de","cz","cn","ca","by","at"]);for(let r=0;r<t/2;r++)l.push(new s(a[r],e)),l.push(new s(a[r],e));let c=r(l);for(let t=0;t<c.length;t++)e.elem.appendChild(c[t].elem)}(m)});let v=document.querySelector(".cover-select-section .cover-boris"),g=document.querySelector(".cover-select-section .cover-mihail"),f=document.querySelector(".cover-select-section .cover-vladimir");v.addEventListener("click",()=>{o=c("cover-boris",o),console.log("#cover Boris is here!")}),g.addEventListener("click",()=>{o=c("cover-mihail",o),console.log("#cover Mihail is here!")}),f.addEventListener("click",()=>{o=c("cover-vladimir",o),console.log("#cover Vladimir is here!")})}]);