!function(e){var t={};function l(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=t,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},l.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";function s(e){let t,l,s=e.length;for(;0!==s;)l=Math.floor(Math.random()*s),t=e[s-=1],e[s]=e[l],e[l]=t;return e}l.r(t);class r{constructor(e,t){this.elem=document.createElement("div"),this.elem.classList.add(e),this.elem.classList.add("card"),this.country=e,this.elem.classList.add("closed"),this.elem.currentCover="default",this.gameField=t,this.elem.addEventListener("click",()=>{this.elem.classList.contains("closed")&&!this.elem.classList.contains("delete")?this.activate():this.elem.classList.contains("active")&&!this.elem.classList.contains("delete")&&(this.deactivate(),this==this.gameField.activeCards[0]&&this.gameField.activeCards.shift())})}activate(){console.log(`#card ${this.country} is active now!`),this.elem.classList.add("active"),setTimeout(()=>{this.elem.classList.remove("closed"),this.elem.classList.remove(this.elem.currentCover)},500),setTimeout(()=>{this.gameField.activeCards.push(this),2==this.gameField.activeCards.length&&this.gameField.activeCards[0]!=this.gameField.activeCards[1]&&(this.gameField.activeCards[0].country==this.gameField.activeCards[1].country?(this.gameField.activeCards.forEach(e=>e.elem.classList.add("delete")),this.gameField.numberOfCards-=2,setTimeout(()=>{this.gameField.activeCards=[]},1e3),document.querySelector(".score-counter").textContent++,console.log("#match!")):(this.gameField.activeCards.forEach(e=>e.deactivate()),this.gameField.activeCards=[],console.log("#mismatch!")))},1e3)}deactivate(){this.elem.classList.add("deactivating"),setTimeout(()=>{this.elem.classList.remove("active"),this.elem.classList.add("closed"),this.elem.classList.add(this.elem.currentCover)},250),setTimeout(()=>{this.elem.classList.remove("deactivating")},500),console.log(`#card ${this.elem.classList[0]} deactivated!`)}}let o=document.querySelector(".game-field-section");function a(e,t){for(let l=0;l<o.children.length;l++)o.children[l].classList.remove(t),o.children[l].currentCover=e,o.children[l].classList.add(e);return e}let c="default-cover",i=document.querySelector(".start-the-game-button"),n=0,d=document.querySelector(".wrapper");i.addEventListener("click",()=>{d.removeChild(document.querySelector(".game-rules-wrapper"));let e=setInterval(()=>{n++,document.querySelector(".time-keeper").textContent++,0==m.numberOfCards&&(!function(e){let t=window.localStorage.getItem("results");t||(t=" ");let l=document.querySelector(".score-counter").textContent,s=window.localStorage.getItem("userName");window.localStorage.setItem("results",t+`${s}:${l};`),confirm(`CONGRATULATIONS, ${s}! Your score is ${l} in ${e}s!`)&&location.reload()}(n),clearInterval(e))},1e3)}),window.onload=function(){let e=document.querySelector("div.wrapper"),t=document.querySelector("form"),l=window.localStorage.getItem("results"),s=document.querySelector(".top-table"),r=document.querySelector(".welcome-message-wrapper"),o=document.querySelector(".welcome-message-div");var a,c;if(r.appendChild(o),e.appendChild(r),t.onsubmit=(()=>{let l=t.elements.name.value,s=t.elements.email.value;l=l,s=s,e.removeChild(r),window.localStorage.setItem("userName",l),window.localStorage.setItem("userEmail",s)}),l){let e=l.match(/\d+/gi),t=l.match(/[a-zа-я]+/gi),r=new Map;for(let l=0;t.length,l<e.length;l++)r.set(e[l],t[l]);e.sort((e,t)=>e-t);for(let t=0;t<10&&t<e.length;t++){let l=document.createElement("div");l.classList.add("player-intop-div"),l.score=e[t],l.name=r.get(e[t]);let o=document.createElement("label");o.classList.add("player-intop-name"),o.textContent=l.name,l.appendChild(o);let a=document.createElement("label");a.classList.add("player-intop-score"),a.textContent=l.score,l.appendChild(a),s.appendChild(l)}}else l=" ",window.localStorage.setItem("results",l)}();let m={};m.elem=document.querySelector(".game-field-section"),m.activeCards=[];let u=document.querySelector(".number-of-cards-section input");m.numberOfCards=u.value;let h=document.querySelector(".number-of-cards-section label");u.addEventListener("change",()=>{m.numberOfCards=u.value,h.textContent=`${m.numberOfCards}`,console.log("#numberOfCards",m.numberOfCards)}),document.querySelector(".number-of-cards-apply-button").addEventListener("click",()=>{console.log(`#set ${m.numberOfCards} cards`),function(e){let t=e.numberOfCards,l=[];for(;e.elem.lastChild;)e.elem.removeChild(e.elem.lastChild);let o=s(["ar","us","ua","tr","ru","pt","nl","kp","jp","ge","gb","es","fr","dk","de","cz","cn","ca","by","at"]);for(let s=0;s<t/2;s++)l.push(new r(o[s],e)),l.push(new r(o[s],e));let a=s(l);for(let t=0;t<a.length;t++)e.elem.appendChild(a[t].elem)}(m)});let v=document.querySelector(".cover-select-section .cover-boris"),g=document.querySelector(".cover-select-section .cover-mihail"),f=document.querySelector(".cover-select-section .cover-vladimir");v.addEventListener("click",()=>{c=a("cover-boris",c),console.log("#cover Boris is here!")}),g.addEventListener("click",()=>{c=a("cover-mihail",c),console.log("#cover Mihail is here!")}),f.addEventListener("click",()=>{c=a("cover-vladimir",c),console.log("#cover Vladimir is here!")})}]);