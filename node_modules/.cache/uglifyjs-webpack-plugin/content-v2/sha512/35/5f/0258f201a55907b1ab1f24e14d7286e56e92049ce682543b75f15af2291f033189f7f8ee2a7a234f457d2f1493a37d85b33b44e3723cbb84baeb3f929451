{"code":"!function(e){var t={};function r(c){if(t[c])return t[c].exports;var o=t[c]={i:c,l:!1,exports:{}};return e[c].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,c){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:c})},r.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";function c(e){let t,r,c=e.length;for(;0!==c;)r=Math.floor(Math.random()*c),t=e[c-=1],e[c]=e[r],e[r]=t;return e}r.r(t),activeCardsStr=window.localStorage.getItem(\"activeCards\"),activeCardsArr=activeCardsStr.match(/\\w+/g),cards=[];class o{constructor(e){this.elem=document.createElement(\"div\"),this.elem.classList.add(e),this.elem.classList.add(\"card\"),this.country=e,this.elem.classList.add(\"closed\"),this.elem.currentCover=\"default\",this.elem.addEventListener(\"click\",()=>{this.elem.classList.contains(\"closed\")&&!this.elem.classList.contains(\"delete\")?this.activate():this.elem.classList.contains(\"active\")&&!this.elem.classList.contains(\"delete\")&&(this.deactivate(),this==activeCards[0]&&activeCards.shift())})}activate(){console.log(`#card ${this.country} is active now!`),this.elem.classList.add(\"active\"),setTimeout(()=>{this.elem.classList.remove(\"closed\"),this.elem.classList.remove(this.elem.currentCover)},500),setTimeout(()=>{(function(e){if(cards.push(e),!(activeCardsArr<2&&cards[0]!=cards[1]))return!1;window.localStorage.setItem(\"activeCards\",`${activeCardsStr},${country}`)})(this)&&(activeCardsArr[0]===activeCardsArr[1]?(activeCards.forEach(e=>e.elem.classList.add(\"delete\")),numberOfCards-=2,setTimeout(()=>{window.localStorage.setItem(\"activeCards\",\"\")},1e3),document.querySelector(\".score-counter\").textContent++,console.log(\"#match!\")):(activeCards.forEach(e=>e.deactivate()),window.localStorage.setItem(\"activeCards\",\"\"),console.log(\"#mismatch!\")))},1e3)}deactivate(){this.elem.classList.add(\"deactivating\"),setTimeout(()=>{this.elem.classList.remove(\"active\"),this.elem.classList.add(\"closed\"),this.elem.classList.add(this.elem.currentCover)},250),setTimeout(()=>{this.elem.classList.remove(\"deactivating\")},500),console.log(`#card ${this.classList[0]} deactivated!`)}}let l=[\"ar\",\"us\",\"ua\",\"tr\",\"ru\",\"pt\",\"nl\",\"kp\",\"jp\",\"ge\",\"gb\",\"es\",\"fr\",\"dk\",\"de\",\"cz\",\"cn\",\"ca\",\"by\",\"at\"],a=document.querySelector(\".game-field-section\");let s=document.querySelector(\"div.wrapper\"),i=document.querySelector(\"form\"),n=(window.localStorage.getItem(\"results\"),document.querySelector(\".top-table\"));let d=document.querySelector(\".game-field-section\");function u(e,t){for(let r=0;r<d.children.length;r++)d.children[r].classList.remove(t),d.children[r].currentCover=e,d.children[r].classList.add(e);return e}let m=\"default-cover\",v=document.querySelector(\".start-the-game-button\"),h=0,p=document.querySelector(\".wrapper\");var f;v.addEventListener(\"click\",()=>{p.removeChild(document.querySelector(\".game-rules-wrapper\"));let e=setInterval(()=>{h++,document.querySelector(\".time-keeper\").textContent++,0==y&&(f=h,score=document.querySelector(\".score-counter\").textContent,name=window.localStorage.getItem(\"userName\"),window.localStorage.setItem(\"results\",results+`${name}:${score};`),confirm(`CONGRATULATIONS, ${name}! Your score is ${score} in ${f}s!`)&&location.reload(),clearInterval(e))},1e3)}),window.onload=function(){let e=document.querySelector(\".welcome-message-wrapper\"),t=document.querySelector(\".welcome-message-div\");var r,c;if(e.appendChild(t),s.appendChild(e),i.onsubmit=(()=>{let t=i.elements.name.value,r=i.elements.email.value;t=t,r=r,s.removeChild(e),window.localStorage.setItem(\"userName\",t),window.localStorage.setItem(\"userEmail\",r)}),o){let e=o.match(/\\d+/gi),t=o.match(/[a-zа-я]+/gi),r=new Map;for(let c=0;t.length,c<e.length;c++)r.set(e[c],t[c]);e.sort((e,t)=>e-t);for(let t=0;t<10||t<e.length;t++){player=document.createElement(\"div\"),player.classList.add(\"player-intop-div\"),player.score=e[t],player.name=r.get(e[t]);let c=document.createElement(\"label\");c.classList.add(\"player-intop-name\"),c.textContent=player.name,player.appendChild(c);let o=document.createElement(\"label\");o.classList.add(\"player-intop-score\"),o.textContent=player.score,player.appendChild(o),n.appendChild(player)}}else var o=\"\"}();let g=document.querySelector(\".number-of-cards-section input\"),y=g.value,C=document.querySelector(\".number-of-cards-section label\");g.addEventListener(\"change\",()=>{y=g.value,C.textContent=`${y}`,console.log(\"#numberOfCards\",y)}),document.querySelector(\".number-of-cards-apply-button\").addEventListener(\"click\",()=>{console.log(`#set ${y} cards`),function(e){let t=[];for(;a.lastChild;)a.removeChild(a.lastChild);let r=c(l);for(let c=0;c<e/2;c++)t.push(new o(r[c])),t.push(new o(r[c]));let s=c(t);for(let e=0;e<s.length;e++)a.appendChild(s[e].elem)}(y)});let S=document.querySelector(\".cover-select-section .cover-boris\"),w=document.querySelector(\".cover-select-section .cover-mihail\"),L=document.querySelector(\".cover-select-section .cover-vladimir\");document.querySelector(\".game-field-section\");S.addEventListener(\"click\",()=>{m=u(\"cover-boris\",m),console.log(\"#cover Boris is here!\")}),w.addEventListener(\"click\",()=>{m=u(\"cover-mihail\",m),console.log(\"#cover Mihail is here!\")}),L.addEventListener(\"click\",()=>{m=u(\"cover-vladimir\",m),console.log(\"#cover Vladimir is here!\")})}]);","extractedComments":[]}